# Maintainer: XZS <d dot f dot fischer at web dot de>
# Contributor: Morris Jobke <hey at morrisjobke dot de>
# Contributor: alucryd <alucryd at gmail dot com>
# template input; name=github

pkgname=gnome-shell-extension-mediaplayer-git
pkgver=2.8.1
pkgrel=1
pkgdesc='A mediaplayer indicator for the Gnome Shell'
arch=('any')
url='https://github.com/eonpatapon/gnome-shell-extensions-mediaplayer'
license=('GPL2')
makedepends=('meson' 'intltool')
optdepends=('mpdris2-git: MPD support')
install=gschemas.install

# template input; name=git

prepare() {
  sed -i \
    "/^SCHEMA_DIR/s/EXTENSION_DIR/$(
      )get_option('prefix'), get_option('datadir'), 'glib-2.0'/" \
    "$_gitname"/meson.build
}

build() {
  cd "$_gitname"
  rm -rf builddir
  meson builddir --prefix='/usr'
}

# template input; name=modularize-package

package_01_ninja_install() {
  cd "$_gitname"
  DESTDIR="$pkgdir" ninja -C builddir install
}

# template input; name=find-version
