# Maintainer: XZS <d dot f dot fischer at web dot de>
# Contributor: Janne Haapsaari <haaja@iki.fi>
# Contributor: Christopher Kroo√ü <didi2002 at web.de>
# template input; name=github

pkgname=gnome-shell-extension-dash-to-dock
pkgver=v46
pkgrel=2
pkgdesc="A gnome-shell extension that transforms the dash into an intellihide dock"
arch=('any')
url="https://github.com/micheleg/dash-to-dock"
license=('GPL')
depends=('dconf')
makedepends=('intltool')
source=("$pkgname::https://github.com/micheleg/dash-to-dock/archive/extensions.gnome.org-${pkgver}.tar.gz")
md5sums=('f085cee5b4373029a00d7987081d1d5d')
install='gschemas.install'

_archivename="dash-to-dock-extensions.gnome.org-${pkgver}"


build() {
  cd "$srcdir/$_archivename"
  make
}

package() {
  cd "$srcdir/$_archivename"
  mkdir -p "${pkgdir}/usr/share/gnome-shell/extensions" "${pkgdir}/usr/share/glib-2.0/schemas/"
  make INSTALLBASE=${pkgdir}/usr/share/gnome-shell/extensions install
  install -m644 "schemas/org.gnome.shell.extensions.dash-to-dock.gschema.xml" \
    "${pkgdir}/usr/share/glib-2.0/schemas/org.gnome.shell.extensions.dash-to-dock.gschema.xml"
}
