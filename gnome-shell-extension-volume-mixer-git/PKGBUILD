# Maintainer: XZS <d dot f dot fischer at web dot de>

pkgname="gnome-shell-extension-volume-mixer-git"
pkgdesc="Applet allowing separate configuration of pulseaudio mixers"
pkgver=30.b9bbf3d
pkgrel=1
arch=(any)
url="https://github.com/aleho/gnome-shell-volume-mixer"
license=(GPLv2)
depends=('gnome-shell>=3.12')
makedepends=('git')
install=gschemas.install
source=("$pkgname::git+$url")
md5sums=('SKIP')

pkgver() {
  cd $pkgname
  echo $(git rev-list --count HEAD).$(git rev-parse --short HEAD)
}

package () {
  # TODO split locale, pautils to correct directories
  cd $pkgname
  destdir="$pkgdir/usr/share/gnome-shell/extensions/"
  install -d "$destdir/schemas"
  install *.js* "$destdir"
  install schemas/gschemas.compiled "$destdir/schemas"
}
